<!--
Coordinate Transform
X:  Forward
Y:  Left
Z:  Up
-->

<launch>
    <env name="ROS_IP" value="192.168.1.5"></env>
    <param name="robot_description" textfile="$(find bsl_collision_avoidance)/urdf/CTA.urdf" />

    <!--///Static Transforms///-->
    <include file="$(dirname)/transforms.launch" />
    
    <!--///Laser Angle Listener for Calibration///-->
    <node pkg="bsl_collision_avoidance" type="laser_angle_listener.py" name="laser_angle_listener" output="screen" respawn="true"/>

    <!--///Running Laser 1 collision avoidance///-->
    <include file="$(dirname)/MRS6000_ns.launch">
        <arg name="name_space" value="1" /> 
        <arg name="laser_ip" value="192.168.1.7" />
        <arg name="laser_frame" value="laser1" />
        <arg name="parent_frame" value="laser_mount1" />
        <arg name="grid_frame" value="grid1" />
        <arg name="grid_height" value="4" />
        <arg name="grid_width" value="20" />
        <arg name="grid_x" value="5.5" />
        <arg name="grid_y" value="-2" />
        <arg name="digital_pin" value="1" />
    </include>
    
    <!--///Running Laser 2 collision avoidance///-->
    <include file="$(dirname)/MRS6000_ns.launch">
        <arg name="name_space" value="2" /> 
        <arg name="laser_ip" value="192.168.1.8" />
        <arg name="laser_frame" value="laser2" />
        <arg name="parent_frame" value="laser_mount2" />
        <arg name="grid_frame" value="grid2" />
        <arg name="grid_height" value="4" />
        <arg name="grid_width" value="20" />
        <arg name="grid_x" value="5.5" />
        <arg name="grid_y" value="-2" />
        <arg name="digital_pin" value="2"/>
    </include>
    
    <node pkg="bsl_collision_avoidance" type="failure_output.py" name="failure_output" respawn="true"/>
    
    
</launch>
